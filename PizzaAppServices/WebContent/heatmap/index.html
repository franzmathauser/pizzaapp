
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<title>PizzaApp - Heatmap Statistik</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body,html {
	margin: 0;
	padding: 0;
}

#heatmapArea {
	width: 100%;
	height: 100%;
}
</style>
<script type="text/javascript"
	src="http://maps.google.com/maps/api/js?sensor=false"></script>

</head>
<body>

		<div id="heatmapArea"></div>

	<script type="text/javascript" src="js/heatmap.js"></script>
	<script type="text/javascript" src="js/heatmap-gmaps.js"></script>
	<script type="text/javascript">
		var map;
		var heatmap;

		window.onload = function() {

			var myLatlng = new google.maps.LatLng(48.1478470707551, 11.557245118713379);
			// sorry - this demo is a beta
			// there is lots of work todo
			// but I don't have enough time for eg redrawing on dragrelease right now
			var myOptions = {
				zoom : 15,
				center : myLatlng,
				mapTypeId : google.maps.MapTypeId.ROADMAP,
				disableDefaultUI : false,
				scrollwheel : true,
				draggable : true,
				navigationControl : true,
				mapTypeControl : false,
				scaleControl : true,
				disableDoubleClickZoom : false
			};
			map = new google.maps.Map(document.getElementById("heatmapArea"),
					myOptions);

			heatmap = new HeatmapOverlay(map, {
				"radius" : 25,
				"visible" : true,
				"opacity" : 60
			});

			var staticData = {
				max : 3,
				data : [ {
					lat : 48.1478470707551,
					lng : 11.557245118713379,
					count : 1
				}, {
					lat : 47.731010795533955,
					lng : 11.867637634277344,
					count : 1
				}, {
					lat : 48.043316157282035,
					lng : 11.61855697631836,
					count : 1
				} ]
			};

		 	// Die Daten dürfen nicht zu früh gesetzt werden, da die lat/lng - pixel projektion ansonsten nicht funktioniert
			google.maps.event.addListenerOnce(map, "idle", function() {
				heatmap.setDataSet(staticData);
			});
		};
	</script>
</body>
</html>